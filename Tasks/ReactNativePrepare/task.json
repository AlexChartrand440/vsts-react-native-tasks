{
    "id": "E51A9093-748D-4F10-99ED-483F5372CDAA",
    "name": "ReactNativeBundle",
    "friendlyName": "React Native Prepare",
    "description": "Prep a React Native project to use the right version of Node.js and succesfully generate an offline bundle.",
    "category": "Build",
    "visibility": [
                "Build"
                  ],
    "author": "Microsoft Corporation",
    "version": {
        "Major": 0,
        "Minor": 0,
        "Patch": 56
    },
    "demands": [
        "npm"
    ],
    "instanceNameFormat": "React Native Prepare $(platform)",
     "groups": [
        {
            "name":"advanced",
            "displayName":"Advanced",
            "isExpanded":false
        }
    ],
    "inputs": [
        {
            "name": "platform", 
            "type": "radio", 
            "label": "Platform", 
            "required":true,
            "defaultValue": "ios",
            "helpMarkDown": "Platform to prepare. iOS offline bundle settings can be configured via this task while Android offline bundle settings should be configured in android/app/build.gradle.",
            "options": {
                "ios": "iOS",
                "android": "Android"
            }
        },  
        { 
            "name": "entryFile", 
            "type": "filePath", 
            "label": "Entry File", 
            "required":false, 
            "defaultValue": "index.ios.js",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "bundleOutput", 
            "type": "filePath", 
            "label": "Bundle Output", 
            "required":false, 
            "defaultValue": "ios/main.jsbundle",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "assetsDest", 
            "type": "filePath", 
            "label": "Asset Destination Path", 
            "required":false, 
            "defaultValue": "ios/*/Images.xcassets",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "devFlag", 
            "type": "boolean", 
            "label": "Dev Bundle", 
            "required": false,
            "defaultValue": true,
            "helpMarkDown": "When unchecked, warnings are disabled and code is minified.",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "sourcemapOutput", 
            "type": "filePath", 
            "label": "Sourcemap Output Path", 
            "required":false, 
            "defaultValue": "",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "transformer", 
            "type": "filePath", 
            "label": "Custom Transformer", 
            "required":false, 
            "defaultValue": "",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "moreArgs", 
            "type": "string", 
            "label": "Arguments", 
            "required":false, 
            "defaultValue": "",
            "visibleRule": "platform = ios"
        },
        { 
            "name": "cwd", 
            "type": "filePath", 
            "label": "Working Directory", 
            "defaultValue":"", 
            "required":false,
            "helpMarkDown": "Working directory for command runs. Defaults to the root of the repository.",
            "groupName":"advanced"
        }
    ],
    "execution": {
        "Node": {
            "target": "react-native.js",
            "argumentFormat": ""
        },
        "PowerShell": {
            "target": "$(currentDirectory)\\bootstrapper.ps1",
            "argumentFormat": "",
            "workingDirectory": "$(currentDirectory)"
        }        
    }    
}